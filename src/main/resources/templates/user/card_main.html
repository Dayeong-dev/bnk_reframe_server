
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>ì¹´ë“œ ë©”ì¸ í˜ì´ì§€</title>

<link rel="stylesheet" href="/css/common.css"></link>
<link rel="stylesheet" href="/css/user.css"></link>
<!-- slick CSS -->
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />

<!-- Swiper CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script
	src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

<style>
body {
	font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	margin: 0;
	padding: 0;
	background: #fff;
}

.container {
	max-width: 1200px;
	margin: 0 auto;
	padding: 0 20px;
}

h1 {
	text-align: center;
	margin: 40px 0 20px;
	font-weight: 700;
	color: #222;
}

.autocomplete-box:empty {
	display: none;
}

/* âœ… ê²€ìƒ‰ ì˜ì—­ ì „ì²´ ì»¨í…Œì´ë„ˆ */
.search-section {
	width: 100%;
	display: flex;
	justify-content: center;
	padding: 2rem 1rem;
	box-sizing: border-box;
}

/* âœ… ê²€ìƒ‰ í¼ */
.search-form {
	display: flex;
	width: 100%;
	max-width: 500px; /* ìµœëŒ€ ë„ˆë¹„: input + iconì— ë”± ë§ê²Œ */
	position: relative; /* ì•„ì´ì½˜ ìœ„ì¹˜ ê¸°ì¤€ */
}

/* âœ… ê²€ìƒ‰ ì¸í’‹ */
.search-input {
	width: 100%; padding : 14px 50px 14px 20px; /* ì˜¤ë¥¸ìª½ ì—¬ë°±ìœ¼ë¡œ ì•„ì´ì½˜ ìë¦¬ í™•ë³´ */
	border: 1px solid #ccc;
	border-radius: 30px;
	font-size: 17px;
	box-sizing: border-box;
	padding: 14px 50px 14px 20px;
}

/* âœ… ê²€ìƒ‰ ì•„ì´ì½˜ ë²„íŠ¼ */
.search-icon {
	position: absolute;
	top: 50%;
	right: 18px; /* ì ë‹¹íˆ ì•ˆìª½ìœ¼ë¡œ */
	transform: translateY(-50%);
	background: none;
	border: none;
	cursor: pointer;
	width: 22px;
	height: 22px;
	background-image: url("/images/search.png");
	background-repeat: no-repeat;
	background-size: contain;
	background-position: center;
	padding: 0;
}

/* âœ… ìë™ì™„ì„± ë°•ìŠ¤(í•„ìš”í•˜ë‹¤ë©´) */
.autocomplete-box {
	position: absolute;
	top: calc(100% + 5px); /* ì¸í’‹ ì•„ë˜ ì‚´ì§ ê°„ê²© */
	left: 0;
	right: 0;
	background: #fff;
	border: 1px solid #ddd;
	border-top: none;
	max-height: 200px;
	overflow-y: auto;
	z-index: 10;
	box-sizing: border-box;
	border-radius: 0 0 10px 10px; /* ì•„ë˜ ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
}

/* ìŠ¤ì™€ì´í¼ ì•„ì´í…œ */
.swiper-3d .swiper-slide-shadow {
	background: transparent;
}

.swiper-slide p {
	display: none;
}

.swiper-slide-active p {
	display: block;
	color: #888;
	font-weight: bold; /* í•„ìš”í•˜ë©´ ì§„í•˜ê²Œ */
}

.slider-container {
	margin: 0 auto 40px;
	position: relative;
}

/* ìŠ¬ë¦­ ìŠ¬ë¼ì´ë“œ ì•„ì´í…œ ìŠ¤íƒ€ì¼ */
.slide-item {
	transition: transform 0.3s ease;
	padding: 0 10px;
	box-sizing: border-box;
	cursor: pointer;
}

.slide-item img {
	width: 100%; /* ì›í•˜ëŠ” ì´ë¯¸ì§€ ë„ˆë¹„ */
	height: auto;
	object-fit: cover;
	border-radius: 8px;
	box-shadow: 0 4px 8px rgb(0 0 0/ 0.1);
	transition: transform 0.3s ease;
}

/* ì´ë¯¸ì§€ í˜¸ë²„ ì‹œ ì‚´ì§ ì»¤ì§€ëŠ” íš¨ê³¼ */
.slide-item img:hover {
	transform: scale(1.05);
}

.slide-item p {
	margin-top: 10px;
	font-weight: 700;
	color: #333;
	font-size: 16px;
}

.content-wrapper {
    max-width: 1200px;
    margin: 0 auto;
    border-radius: 10px;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
    cursor: pointer;
    margin: 30px 0px;
}

/* ì¹´ë“œ ëª©ë¡ ê·¸ë¦¬ë“œ ìŠ¤íƒ€ì¼ */
/* ë°˜ì‘í˜• ê·¸ë¦¬ë“œ 1~3ì—´ */
.section-header {
	margin-bottom: 15px;
}

.more-link-wrapper {
	text-align: center;
	margin-top: 30px; /* ì¹´ë“œ ê·¸ë¦¬ë“œì™€ ê°„ê²© */
}

.more-link {
	display: inline-block;
	font-weight: 600;
	color: #fe504f;
	text-decoration: none;
	cursor: pointer;
	transition: color 0.3s ease;
	margin-bottom: 15px;
}

.more-link:hover {
	font-size: 1.03em;
}

.card-grid {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	/* 2ì—´ ê³ ì • grid-template-rows: repeat(3, auto);   3í–‰ ê³ ì •*/
	grid-gap: 20px;
	margin-bottom: 40px;
}

.card-item:hover {
	box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
}

.card-item {
	display: flex;
	border-radius: 8px;
	transition: box-shadow 0.3s ease;
	min-height: 250px;
	align-items: flex-start; /* ìƒë‹¨ ì •ë ¬ ìœ ì§€ */
	overflow: hidden;
	text-decoration: none;
	color: inherit;
	gap: 12px; /* ì ë‹¹í•œ ê°„ê²© */
	padding: 20px;
	box-sizing: border-box; /* íŒ¨ë”© í¬í•¨ í¬ê¸° ê³„ì‚° */
}

.card-tags {
	margin-bottom: 5px;
	display: flex;
	flex-wrap: wrap;
	gap: 3px; /* íƒœê·¸ ì‚¬ì´ ê°„ê²© */
}

.card-tags span {
	background: #eee;
	padding: 3px 6px;
	border-radius: 4px;
	font-size: 0.75em;
	color: #555;
	user-select: none;
	display: inline-block;
}

.img-container {
	display: flex;
	justify-content: center;
	align-items: center;
	height: 250px;
	width: 150px; /* ì´ë¯¸ì§€ ëˆ•ëŠ” ê°€ë¡œ ê¸¸ì´ ë§ì¶¤ */
	margin-top: 0;
	overflow: hidden; /* íŠ€ì–´ë‚˜ì˜´ ë°©ì§€ */
	box-sizing: border-box;
	position: relative; /* transform-origin ì¡°ì ˆ ìœ„í•´ */
}

.img-container img {
	width: auto;
	height: 150px;
	object-fit: contain;
	transform: rotate(90deg);
	transform-origin: center center; /* ê¸°ì¤€ì  ì¡°ì ˆ */
	flex-shrink: 0;
	display: block;
	margin: 0;
}

.card-desc {
	flex: 1;
	display: flex;
	flex-direction: column;
	justify-content: flex-start;
	margin-top: 10px; /* ìœ„ìª½ ì •ë ¬ */
}

/* ì¹´ë“œ ì´ë¦„ë„ í´ë¦­ ì˜ì—­ì— í¬í•¨ë˜ë„ë¡ a íƒœê·¸ë¡œ ê°ì‹¸ê¸° */
.card-desc h4 {
	margin: 0 0 10px;
	font-size: 18px;
	color: #222;
	cursor: pointer;
}

.card-desc p {
	margin: 0;
	font-size: 14px;
	color: #555;
	line-height: 1.3;
}

.banner {
	text-align: center;
	margin: 50px 0;
}

.banner img {
	max-width: 800px;
	width: 100%;
	border-radius: 10px;
	box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
	transition: transform 0.3s ease;
	cursor: pointer;
}

.banner img:hover {
	transform: scale(1.03);
}

/* ìŠ¬ë¦­ ì»¤ìŠ¤í…€ ì¢Œìš° í™”ì‚´í‘œ ìŠ¤íƒ€ì¼ */
.slick-prev, .slick-next {
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
	background: rgba(0, 0, 0, 0.5);
	border-radius: 50%;
	width: 38px;
	height: 38px;
	z-index: 10;
	cursor: pointer;
	display: flex !important;
	align-items: center;
	justify-content: center;
	transition: background 0.3s ease;
}

.slick-prev:hover, .slick-next:hover {
	background: rgba(0, 0, 0, 0.8);
}

.slick-prev {
	left: -50px;
}

.slick-next {
	right: -50px;
}

/* í™”ì‚´í‘œ ì•„ì´ì½˜ í…ìŠ¤íŠ¸ */
.slick-prev::before, .slick-next::before {
	font-family: Arial, sans-serif;
	font-weight: bold;
	font-size: 24px;
	color: white;
	opacity: 1;
}

.slick-prev::before {
	content: '<';
}

.slick-next::before {
	content: '>';
}

/* ë°˜ì‘í˜• */
@media ( max-width : 768px) {
	.slick-prev {
		left: -35px;
	}
	.slick-next {
		right: -35px;
	}
}

@media ( max-width : 480px) {
	.slick-prev, .slick-next {
		width: 32px;
		height: 32px;
		font-size: 18px;
	}
	.slick-prev {
		left: -30px;
	}
	.slick-next {
		right: -30px;
	}
}

@media ( max-width : 400px) {
	.search-box input {
		width: 100%;
		border-radius: 4px 4px 0 0;
	}
	.search-box button {
		width: 100%;
		border-radius: 0 0 4px 4px;
		margin-top: 8px;
	}
	.search-box {
		margin-bottom: 20px;
	}
}
</style>
</head>

<body>
	<div th:replace="~{user/fragments/modal :: modalFragment}"></div>
	<div th:replace="~{user/fragments/header :: headerFragment}"></div>
	<div th:replace="~{user/fragments/side-menu :: sideMenuFragment}"></div>
	<div id="container">
		<section>
			<div class="container">
				<!-- ìŠ¤ì™€ì´í¼ -->
				<div class="swiper mySwiper"
					style="width: 100%; max-width: 600px; margin: 0 auto;">
					<div class="swiper-wrapper">
						<div class="swiper-slide" th:each="card : ${allCards}"
							style="text-align: center;">
							<a th:href="@{'/card/detail/' + ${card.cardId}}"> <img
								th:src="@{'/images/cards/' + ${card.cardId} + '_front.PNG'}"
								alt="" style="width: 300px; height: auto; border-radius: 8px;" />
								<p th:text="${card.name}"></p>
							</a>
						</div>
					</div>
				</div>

				<!-- ìŠ¬ë¦­ ìŠ¬ë¼ì´ë” ì»¨í…Œì´ë„ˆ 
			    <div class="slider-container">
			      <div class="slider">
					<div class="slide-item" th:each="card : ${allCards}">
			          <a th:href="@{'/card/detail/' + ${card.cardId}}">
			            <img th:src="@{'/images/cards/' + ${card.cardId} + '_front.PNG'}"
			              th:alt="${card.name}" />
			            <p th:text="${card.name}"></p>
			          </a>
			        </div>
			      </div>
			    </div>-->

				<!-- ì¹´ë“œ ì´ë¦„ ê²€ìƒ‰ ë°•ìŠ¤ -->
				<div class="search-section">
					<form class="search-form" action="/card/list" method="get">
						<input type="text" name="keyword" id="searchInput"
							class="search-input" placeholder="ì¹´ë“œ ì´ë¦„ ê²€ìƒ‰" autocomplete="off">
						<button type="submit" class="search-icon" aria-label="ê²€ìƒ‰"></button>
						<div id="autocompleteList" class="autocomplete-box"></div>
						<!-- ğŸ”¥ ìë™ì™„ì„± ë“œë¡­ë‹¤ìš´ -->
					</form>
				</div>

				<!-- ì¹´ë“œ ëª©ë¡ í—¤ë” -->
				<div class="content-wrapper">
					<div class="section-header"></div>

					<!-- ì¹´ë“œ ëª©ë¡ ê·¸ë¦¬ë“œ -->
					<div class="card-grid">
						<a class="card-item" th:href="@{'/card/detail/' + ${card.cardId}}"
							th:each="card : ${topCards}">
							<div class="img-container">
								<img
									th:src="@{'/images/cards/' + ${card.cardId} + '_front.PNG'}"
									th:alt="${card.name}" />
							</div>
							<div class="card-desc">
								<div class="card-tags" th:if="${card.tags != null}">
									<span class="tag"
										th:each="tag : ${#strings.arraySplit(card.tags, ' ')}"
										th:text="${tag}"></span>
								</div>
								<h4 th:text="${card.name}"></h4>
								<p th:text="${card.description}"></p>
							</div>
						</a>
					</div>

					<!-- ë”ë³´ê¸° ë²„íŠ¼ì„ ê·¸ë¦¬ë“œ ì•„ë˜ì— -->
					<div class="more-link-wrapper">
						<a href="/card/list" class="more-link">ì „ì²´ ìƒí’ˆ &gt;</a>
					</div>
				</div>


				<!-- í……ì¥ì§„ë‹¨ê¸° ë°°ë„ˆ -->
				<div class="banner">
					<a href="/card/card_test"> <img
						src="/images/cardTest/card_test_banner.png" alt="í……ì¥ì§„ë‹¨ê¸°" />
					</a>
				</div>
			</div>
		</section>
	</div>


	<script
		src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

	<script>
		var swiper = new Swiper(".mySwiper", {
			effect : "cards",
			grabCursor : true,
			autoplay : {
				delay : 1300, // ìë™ ìŠ¬ë¼ì´ë“œ(1.3ì´ˆ)
				disableOnInteraction : false
			// ì‚¬ìš©ìê°€ ì†ëŒ€ë„ ìë™ ì¬ìƒ ê³„ì†
			},
			loop : true
		// cards íš¨ê³¼ëŠ” loopë‘ ê°™ì´ ì“°ëŠ” ê±¸ ê¶Œì¥!
		});

		/*
		  $(document).ready(function () {
		    $('.slider').slick({
		      centerMode: true,          // ê°€ìš´ë° ìŠ¬ë¼ì´ë“œ ê°•ì¡° ëª¨ë“œ í™œì„±í™”
		      slidesToShow: 3,           // í•œë²ˆì— ë³´ì´ëŠ” ìŠ¬ë¼ì´ë“œ ê°œìˆ˜
		      centerPadding: '60px',     // ì¢Œìš° íŒ¨ë”© (ìŠ¬ë¼ì´ë“œ ì£¼ë³€ ì—¬ë°±)
		      variableWidth: false,  // ê° ìŠ¬ë¼ì´ë“œ ë„ˆë¹„ ë‚´ë¶€ ì½˜í…ì¸  ê¸°ì¤€ ìë™ ì¡°ì ˆ
		      slidesToScroll: 1,         // í•œë²ˆì— ë„˜ì–´ê°€ëŠ” ìŠ¬ë¼ì´ë“œ ê°œìˆ˜
		      autoplay: true,            // ìë™ ìŠ¬ë¼ì´ë“œ í™œì„±í™”
		      autoplaySpeed: 1500,       // ìë™ ìŠ¬ë¼ì´ë“œ ì†ë„ (1.5ì´ˆ)
		      infinite: true, 		   // ë¬´í•œ ë°˜ë³µ í™œì„±í™”
		      arrows: true,              // ì¢Œìš° í™”ì‚´í‘œ í‘œì‹œ
		      dots: true,                // í•˜ë‹¨ ì  ë„¤ë¹„ê²Œì´ì…˜ í‘œì‹œ
		      pauseOnHover: false,     // ë§ˆìš°ìŠ¤ ì˜¬ë ¤ë„ ë©ˆì¶”ì§€ ì•Šê²Œ
		      pauseOnFocus: false,     // í¬ì»¤ìŠ¤(í™”ì‚´í‘œ/ì  í´ë¦­)í•´ë„ ë©ˆì¶”ì§€ ì•Šê²Œ
		      pauseOnDotsHover: false, // ì  ë„¤ë¹„ê²Œì´ì…˜ hover ì‹œ ë©ˆì¶”ì§€ ì•Šê²Œ
		      prevArrow: '<button type="button" class="slick-prev" aria-label="Previous slide">&lt;</button>',  // ì»¤ìŠ¤í…€ ì´ì „ ë²„íŠ¼
		      nextArrow: '<button type="button" class="slick-next" aria-label="Next slide">&gt;</button>',      // ì»¤ìŠ¤í…€ ë‹¤ìŒ ë²„íŠ¼
		      responsive: [
		        {
		          breakpoint: 768,
		          settings: {
		            slidesToShow: 2,
		            arrows: true,
		            dots: true,
		            centerPadding: '40px',
		          }
		        },
		        {
		          breakpoint: 480,
		          settings: {
		            slidesToShow: 1,
		            arrows: false,
		            dots: true,
		            centerMode: true,
		            centerPadding: '40px',
		          }
		        }
		      ]
		    });
		  });
		 */
	</script>

</body>
</html>
